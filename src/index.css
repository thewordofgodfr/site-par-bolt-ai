@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hauteur du header (scroll-padding) */
:root { --nav-h: 64px; }
html { scroll-padding-top: var(--nav-h); }

/* Typo : noir en clair, blanc en sombre */
@layer base {
  body { @apply text-gray-900; }
  .dark body { @apply text-white; }
}

/* ======= FORCE LIGHT (d√©sactive les inversions auto-dark en clair) ======= */
html[data-theme="light"] {
  color-scheme: light !important;
  forced-color-adjust: none !important;
  filter: none !important;
  background-color: #ffffff !important;
}
html[data-theme="light"] body {
  background-color: #ffffff !important;
  color: #111827 !important; /* gray-900 */
}

/* ==========================================================
   üìå OS en sombre + APP en clair  => texte "blanc blanc"
   (on NE change PAS les fonds ; juste la couleur du texte)
   ========================================================== */
@media (prefers-color-scheme: dark) {
  /* Couleur de base */
  html[data-theme="light"]:not(.theme-dark-blue) body {
    color: #ffffff !important;
  }

  /* Surclasse les utilitaires Tailwind de texte souvent utilis√©s */
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-50,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-100,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-200,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-300,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-400,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-500,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-600,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-700,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-800,
  html[data-theme="light"]:not(.theme-dark-blue) .text-gray-900,
  html[data-theme="light"]:not(.theme-dark-blue) .text-black,
  html[data-theme="light"]:not(.theme-dark-blue) .text-white,
  html[data-theme="light"]:not(.theme-dark-blue) .text-white\/90,
  html[data-theme="light"]:not(.theme-dark-blue) .text-white\/80,
  html[data-theme="light"]:not(.theme-dark-blue) .text-white\/70,
  html[data-theme="light"]:not(.theme-dark-blue) .text-white\/60 {
    color: #ffffff !important;
  }

  /* Placeholders (inputs) bien blancs aussi */
  html[data-theme="light"]:not(.theme-dark-blue) ::placeholder {
    color: #ffffff !important;
    opacity: 0.9 !important;
  }
}

/* ======= PALETTE SOMBRE BLEU (r√©f√©rence unique pour tout ‚Äúdark‚Äù) ======= */
html.theme-dark-blue {
  --tw-db-bg: #0f172a;         /* slate-900 */
  --tw-db-surface: #111c2e;    /* surface principale */
  --tw-db-surface-2: #15233b;  /* surface secondaire */
  --tw-db-border: rgba(255,255,255,.14);
  --tw-db-text: #ffffff;
  --tw-db-subtext: rgba(255,255,255,.92);
}

html.theme-dark-blue, html.theme-dark-blue body {
  background-color: var(--tw-db-bg) !important;
  color: var(--tw-db-text) !important;
}

/* Remappage utilitaires Tailwind vers notre palette sombre bleue */
html.theme-dark-blue .bg-gray-900 { background-color: var(--tw-db-bg) !important; }
html.theme-dark-blue .bg-gray-800 { background-color: var(--tw-db-surface) !important; }
html.theme-dark-blue .bg-gray-700 { background-color: var(--tw-db-surface-2) !important; }

/* √âl√©ments ‚Äúclairs‚Äù remapp√©s en sombre (√©vite les cartes gris d√©lav√©) */
html.theme-dark-blue .bg-gray-50,
html.theme-dark-blue .bg-gray-100,
html.theme-dark-blue .bg-white,
html.theme-dark-blue .bg-white\/95 { background-color: var(--tw-db-surface) !important; }

/* Bordures */
html.theme-dark-blue .border-gray-200,
html.theme-dark-blue .border-gray-300,
html.theme-dark-blue .border-gray-400,
html.theme-dark-blue .border-gray-500,
html.theme-dark-blue .border-gray-600,
html.theme-dark-blue .border-gray-700 { border-color: var(--tw-db-border) !important; }

/* Texte bien blanc en sombre */
html.theme-dark-blue .text-gray-100,
html.theme-dark-blue .text-gray-200,
html.theme-dark-blue .text-gray-300,
html.theme-dark-blue .text-gray-400,
html.theme-dark-blue .text-gray-500,
html.theme-dark-blue .text-gray-600,
html.theme-dark-blue .text-gray-700,
html.theme-dark-blue .text-gray-800,
html.theme-dark-blue .text-gray-900,
html.theme-dark-blue .text-white,
html.theme-dark-blue .text-white\/90,
html.theme-dark-blue .text-white\/80,
html.theme-dark-blue .text-white\/70,
html.theme-dark-blue .text-white\/60 { color: var(--tw-db-text) !important; }

/* Surfaces translucides (sticky bars, overlays translucides) */
html.theme-dark-blue .bg-gray-800\/95 { background-color: color-mix(in srgb, var(--tw-db-surface) 95%, transparent) !important; }
html.theme-dark-blue .bg-white\/95 { background-color: color-mix(in srgb, var(--tw-db-surface) 95%, transparent) !important; }

/* Ombres un peu renforc√©es en sombre */
html.theme-dark-blue .shadow,
html.theme-dark-blue .shadow-lg,
html.theme-dark-blue .shadow-xl { box-shadow: 0 10px 24px rgba(0,0,0,.35) !important; }
